<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="100%" height="100%">
	<fx:Script>
		<![CDATA[
			import mx.core.UIComponent;
			import mx.events.FlexEvent;
			
			import nape.util.ShapeDebug;
			
			import worldkit.core.DrawingArea;
			import worldkit.core.DrawingController;
			import worldkit.core.NapeController;
			import worldkit.data.BodyDO;
			import worldkit.data.PolygonDO;
			import worldkit.data.ShapeDO;
			
			public var mainArea:UIComponent = new UIComponent;

			private var drawingArea:DrawingArea;
			public static  var mainDebug:ShapeDebug = new ShapeDebug(100,100);
			
			protected function brcDrawingArea_creationCompleteHandler(event:Event):void
			{
				// TODO Auto-generated method stub
				mainArea.addChild(DrawingArea.Instance);
				brcDrawingArea.addElement(mainArea);
			}
			
			protected function createRectangle(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var bodyDO:BodyDO = new BodyDO(100,100,BodyDO.DYNAMIC);
				
				var shapes:Vector.<ShapeDO> = new Vector.<ShapeDO>();
				shapes.push(new PolygonDO(50,50));
				bodyDO.shapes = shapes;
				
				DrawingController.Instance.addPlygonBody(bodyDO)
				//mainDebug
			}
			
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<s:BorderContainer left="5" top="5" bottom="5" width="40" >
		<s:Button x="2" y="4" width="34" label="R" click="createRectangle(event)"/>
		<s:Button x="2" y="334" width="36" label="P" click="{DrawingArea.Instance.run = !DrawingArea.Instance.run}"/>
	</s:BorderContainer>
	<s:BorderContainer left="50" right="5" top="5" bottom="5" id="brcDrawingArea" addedToStage="brcDrawingArea_creationCompleteHandler(event)">
	</s:BorderContainer>
</s:Group>
